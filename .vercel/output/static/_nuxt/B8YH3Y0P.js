import{_ as T}from"./Bw-3a3Vs.js";import{n as h,r as p,o as a,c as l,a as n,v as y,t as _,u as d,s as k,A as S,_ as f,B as w,d as C,F as g,q as v,p as M,e as $,z as B,b as I}from"./iurotYuZ.js";import"./BdfaJwYE.js";function D(s){let e="";const t=Math.trunc(s/86400),o=Math.trunc((s-t*24*60*60)/(60*60)),c=Math.trunc((s-t*24*60*60-o*60*60)/60);return e=`${t}D ${o}H ${c}M`,e}function N(s,e){let t=!1;switch(s.type){case 3:t=s.values[2]===e;break;default:t=e===1}return t}function O(s){let e={description:"",component:""};switch(s){case 3:e.description="Kill the following amount of enemies:",e.component="killTask";break;case 11:e.description="The following planets must be under Super Earth control:",e.component="LiberateTask";break;case 12:e.description="Succesfully defend the follwing number of planets:",e.component="DefenseTask";break;case 13:e.description="Hold control of the following planet:",e.component="LiberateTask";break}return e}const j={class:"task-info"},V=h({__name:"taskContainer",props:{task:{},completed:{type:Boolean},progress:{}},setup(s){const e=s,t=p();return t.value=O(e.task.type),(o,c)=>{var r,i;return a(),l("div",null,[n("div",j,[n("div",{class:y(["status",{completed:o.completed}])},null,2),n("p",null,_((r=d(t))==null?void 0:r.description),1)]),(a(),k(S((i=d(t))==null?void 0:i.component),{task:o.task,progress:o.progress},null,8,["task","progress"]))])}}}),E=f(V,[["__scopeId","data-v-22bf457e"]]),b=s=>(M("data-v-b98a3985"),s=s(),$(),s),H={class:"order-container"},L=b(()=>n("h3",null,"Brief: ",-1)),R={class:"order-context"},z={key:0,class:"order-context"},A={class:"time"},F={class:"task-list"},q=b(()=>n("h3",null,[n("strong",null,"Tasks :")],-1)),x=h({__name:"MajorOrderContainer",props:{order:{}},setup(s){const e=s,t=p([]),o=p([]),c=p("");return c.value=D(e.order.expiresIn),t.value=JSON.parse(e.order.tasks),t.value.forEach((r,i)=>{o.value[i]=N(r,e.order.progress[i])}),(r,i)=>(a(),l("div",H,[L,n("p",R,_(r.order.brief),1),r.order.brief!==r.order.description?(a(),l("p",z,_(r.order.description),1)):w("",!0),n("h3",null,[C("Time Remaining: "),n("strong",A,_(d(c)),1)]),n("div",F,[q,(a(!0),l(g,null,v(d(t),(m,u)=>(a(),k(E,{class:"task-container",task:m,completed:d(o)[u],progress:r.order.progress[u]},null,8,["task","completed","progress"]))),256))])]))}}),J=f(x,[["__scopeId","data-v-b98a3985"]]),K={key:1,class:"no-order-message"},W=h({__name:"orders",async setup(s){let e,t;const o=[{name:"War Status",to:"/"}],c=p([]);return c.value=([e,t]=B(()=>$fetch("/api/getMo")),e=await e,t(),e),(r,i)=>{const m=T;return a(),l("div",null,[I(m,{title:"Major Order",routes:o}),d(c).length>0?(a(!0),l(g,{key:0},v(d(c),u=>(a(),k(J,{order:u},null,8,["order"]))),256)):(a(),l("h2",K,"No active Major Order"))])}}}),U=f(W,[["__scopeId","data-v-3a0de36b"]]);export{U as default};
